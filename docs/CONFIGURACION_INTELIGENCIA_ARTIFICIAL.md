# ğŸ¤– ConfiguraciÃ³n de Inteligencia Artificial

## ğŸ“‹ **DESCRIPCIÃ“N**

MÃ³dulo de configuraciÃ³n de Inteligencia Artificial integrado en la secciÃ³n de ConfiguraciÃ³n del sistema RapiCredit.

---

## ğŸ¯ **FUNCIONALIDADES DE IA**

### **âœ… 1. SCORING CREDITICIO CON IA**
**DescripciÃ³n:** Analiza automÃ¡ticamente la capacidad de pago de los clientes
**Funciones:**
- âœ… EvaluaciÃ³n automÃ¡tica de riesgo crediticio
- âœ… AnÃ¡lisis de capacidad de pago
- âœ… Recomendaciones de monto y plazo
- âœ… Scoring basado en datos histÃ³ricos
- âœ… PredicciÃ³n de probabilidad de pago

### **âœ… 2. PREDICCIÃ“N DE MORA**
**DescripciÃ³n:** Predice la probabilidad de mora usando machine learning
**Funciones:**
- âœ… Modelo predictivo de mora
- âœ… AnÃ¡lisis de patrones de pago
- âœ… Alertas tempranas de riesgo
- âœ… SegmentaciÃ³n de clientes por riesgo
- âœ… OptimizaciÃ³n de estrategias de cobranza

### **âœ… 3. CHATBOT INTELIGENTE**
**DescripciÃ³n:** Asistente virtual para atenciÃ³n al cliente
**Funciones:**
- âœ… Respuestas automÃ¡ticas a consultas comunes
- âœ… Asistencia 24/7
- âœ… Escalamiento a agentes humanos
- âœ… AnÃ¡lisis de sentimientos
- âœ… Mejora continua del conocimiento

---

## âš™ï¸ **CONFIGURACIÃ“N DE OPENAI**

### **ğŸ”‘ OpenAI API Key**
```
Formato: sk-[48 caracteres alfanumÃ©ricos]
Ejemplo: sk-1234567890abcdef1234567890abcdef1234567890abcdef
Obtener en: https://platform.openai.com/api-keys
```

### **ğŸ§  Modelos Disponibles:**

#### **1. GPT-3.5 Turbo (Recomendado)**
- âœ… **Costo:** MÃ¡s econÃ³mico
- âœ… **Velocidad:** RÃ¡pido
- âœ… **PrecisiÃ³n:** Buena para la mayorÃ­a de casos
- âœ… **Uso recomendado:** Scoring crediticio, chatbot bÃ¡sico

#### **2. GPT-4 (MÃ¡s potente)**
- âœ… **Costo:** MÃ¡s caro
- âœ… **Velocidad:** Moderado
- âœ… **PrecisiÃ³n:** Excelente
- âœ… **Uso recomendado:** AnÃ¡lisis complejos, predicciones crÃ­ticas

#### **3. GPT-4 Turbo (MÃ¡s rÃ¡pido)**
- âœ… **Costo:** Intermedio
- âœ… **Velocidad:** Muy rÃ¡pido
- âœ… **PrecisiÃ³n:** Excelente
- âœ… **Uso recomendado:** Aplicaciones en tiempo real

---

## ğŸ–¥ï¸ **INTERFAZ DE CONFIGURACIÃ“N**

### **SecciÃ³n OpenAI Configuration:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ OpenAI Configuration                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OpenAI API Key                          â”‚
â”‚ [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢] ğŸ‘ï¸ â”‚
â”‚ ObtÃ©n tu API Key en:                    â”‚
â”‚ https://platform.openai.com/api-keys    â”‚
â”‚                                         â”‚
â”‚ Modelo de OpenAI                        â”‚
â”‚ [GPT-3.5 Turbo (Recomendado) â–¼]        â”‚
â”‚ GPT-3.5 Turbo es mÃ¡s econÃ³mico,        â”‚
â”‚ GPT-4 es mÃ¡s preciso                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **SecciÃ³n Funcionalidades de IA:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§  Funcionalidades de IA                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Scoring Crediticio con IA               â”‚
â”‚ Analiza automÃ¡ticamente la capacidad    â”‚
â”‚ de pago de los clientes                 â”‚
â”‚                                         â”‚
â”‚ PredicciÃ³n de Mora                      â”‚
â”‚ Predice la probabilidad de mora usando  â”‚
â”‚ machine learning                         â”‚
â”‚                                         â”‚
â”‚ Chatbot Inteligente                     â”‚
â”‚ Asistente virtual para atenciÃ³n al      â”‚
â”‚ cliente                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **SecciÃ³n Estado de la ConfiguraciÃ³n:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Estado de la ConfiguraciÃ³n           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ API Key configurada:    âœ… Configurada  â”‚
â”‚ Modelo seleccionado:    GPT-3.5 Turbo   â”‚
â”‚ Funcionalidades activas:                â”‚
â”‚ Scoring, PredicciÃ³n, Chatbot            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ **CONFIGURACIÃ“N EN EL BACKEND**

### **Variables de Entorno:**
```bash
# OpenAI Configuration
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-3.5-turbo

# AI Features
AI_SCORING_ENABLED=true
AI_PREDICTION_ENABLED=true
AI_CHATBOT_ENABLED=true
```

### **ConfiguraciÃ³n en Base de Datos:**
```sql
-- Configuraciones de IA en la tabla configuracion_sistema
INSERT INTO configuracion_sistema (categoria, subcategoria, clave, valor, descripcion) VALUES
('AI', 'OPENAI', 'OPENAI_API_KEY', '', 'Token de API de OpenAI'),
('AI', 'OPENAI', 'OPENAI_MODEL', 'gpt-3.5-turbo', 'Modelo de OpenAI'),
('AI', 'FEATURES', 'AI_SCORING_ENABLED', 'true', 'Habilitar scoring crediticio'),
('AI', 'FEATURES', 'AI_PREDICTION_ENABLED', 'true', 'Habilitar predicciÃ³n de mora'),
('AI', 'FEATURES', 'AI_CHATBOT_ENABLED', 'true', 'Habilitar chatbot');
```

---

## ğŸ“¡ **ENDPOINTS DEL BACKEND**

### **GET /api/v1/configuracion/ia**
Obtener configuraciÃ³n de IA
```json
Response:
{
  "titulo": "ğŸ¤– CONFIGURACIÃ“N DE INTELIGENCIA ARTIFICIAL",
  "openai_config": {
    "api_key_configured": true,
    "model": "gpt-3.5-turbo"
  },
  "features": {
    "scoring": {
      "habilitado": true,
      "descripcion": "Scoring crediticio con IA"
    },
    "prediction": {
      "habilitado": true,
      "descripcion": "PredicciÃ³n de mora"
    },
    "chatbot": {
      "habilitado": true,
      "configurado": true,
      "descripcion": "Chatbot inteligente"
    }
  }
}
```

### **PUT /api/v1/configuracion/ia**
Actualizar configuraciÃ³n de IA
```json
Body:
{
  "openai_api_key": "sk-...",
  "openai_model": "gpt-4",
  "ai_scoring_enabled": true,
  "ai_prediction_enabled": true,
  "ai_chatbot_enabled": false
}
```

---

## ğŸ¯ **CASOS DE USO**

### **Caso 1: ConfiguraciÃ³n Inicial**
```
SituaciÃ³n: Nuevo sistema, configurar IA por primera vez
AcciÃ³n:
1. Obtener API Key de OpenAI
2. Configurar modelo (recomendado: GPT-3.5 Turbo)
3. Habilitar funcionalidades necesarias
4. Probar configuraciÃ³n
```

### **Caso 2: MigraciÃ³n a GPT-4**
```
SituaciÃ³n: Mejorar precisiÃ³n de anÃ¡lisis
AcciÃ³n:
1. Cambiar modelo a GPT-4
2. Verificar que API Key tenga permisos
3. Monitorear costos
4. Evaluar mejora en resultados
```

### **Caso 3: Deshabilitar Funcionalidad**
```
SituaciÃ³n: Mantenimiento o problemas con IA
AcciÃ³n:
1. Deshabilitar funcionalidad especÃ­fica
2. Mantener otras funcionalidades activas
3. Notificar a usuarios
4. Rehabilitar cuando se resuelva
```

---

## ğŸ’° **CONSIDERACIONES DE COSTO**

### **OpenAI Pricing (Octubre 2025):**
```
GPT-3.5 Turbo:
- Input: $0.0015 / 1K tokens
- Output: $0.002 / 1K tokens

GPT-4:
- Input: $0.03 / 1K tokens
- Output: $0.06 / 1K tokens

GPT-4 Turbo:
- Input: $0.01 / 1K tokens
- Output: $0.03 / 1K tokens
```

### **EstimaciÃ³n de Uso:**
```
Scoring Crediticio:
- ~500 tokens por anÃ¡lisis
- Costo: $0.001 por anÃ¡lisis (GPT-3.5)

PredicciÃ³n de Mora:
- ~300 tokens por predicciÃ³n
- Costo: $0.0006 por predicciÃ³n (GPT-3.5)

Chatbot:
- ~200 tokens por mensaje
- Costo: $0.0004 por mensaje (GPT-3.5)
```

---

## ğŸ” **SEGURIDAD**

### **API Key:**
- âœ… Almacenada encriptada en base de datos
- âœ… No se muestra en logs
- âœ… Acceso solo a administradores
- âœ… RotaciÃ³n recomendada cada 90 dÃ­as

### **Datos:**
- âœ… InformaciÃ³n de clientes no se envÃ­a a OpenAI
- âœ… Solo se envÃ­an datos anonimizados
- âœ… Cumplimiento con polÃ­ticas de privacidad
- âœ… Audit trail de todas las consultas

---

## ğŸ“Š **MONITOREO Y MÃ‰TRICAS**

### **KPIs de IA:**
- ğŸ“ˆ **PrecisiÃ³n de Scoring:** % de predicciones correctas
- ğŸ“ˆ **Tiempo de Respuesta:** Latencia promedio
- ğŸ“ˆ **Uso de Tokens:** Consumo mensual
- ğŸ“ˆ **SatisfacciÃ³n de Chatbot:** Rating de usuarios
- ğŸ“ˆ **ReducciÃ³n de Mora:** % de mejora vs. sistema anterior

### **Alertas:**
- âš ï¸ API Key expirada o invÃ¡lida
- âš ï¸ LÃ­mite de tokens alcanzado
- âš ï¸ Errores de conectividad
- âš ï¸ PrecisiÃ³n por debajo del umbral

---

## ğŸš€ **ROADMAP DE MEJORAS**

### **Fase 2:**
- [ ] AnÃ¡lisis de sentimientos en conversaciones
- [ ] PredicciÃ³n de abandono de clientes
- [ ] OptimizaciÃ³n automÃ¡tica de tasas
- [ ] GeneraciÃ³n de reportes con IA

### **Fase 3:**
- [ ] Modelos personalizados entrenados
- [ ] IntegraciÃ³n con mÃ¡s proveedores de IA
- [ ] AnÃ¡lisis de imÃ¡genes de documentos
- [ ] PredicciÃ³n de tendencias de mercado

---

## ğŸ†˜ **TROUBLESHOOTING**

### **Error: "API Key invÃ¡lida"**
- âœ… Verificar formato: sk-[48 caracteres]
- âœ… Confirmar que la key estÃ© activa
- âœ… Verificar lÃ­mites de uso
- âœ… Revisar permisos de la key

### **Error: "Modelo no disponible"**
- âœ… Verificar que el modelo estÃ© disponible
- âœ… Confirmar permisos de acceso al modelo
- âœ… Revisar configuraciÃ³n de regiÃ³n

### **Error: "LÃ­mite de tokens alcanzado"**
- âœ… Revisar lÃ­mites de la cuenta
- âœ… Optimizar prompts para usar menos tokens
- âœ… Considerar upgrade de plan
- âœ… Implementar cache de respuestas

---

## ğŸ“š **RECURSOS ADICIONALES**

### **DocumentaciÃ³n OpenAI:**
- [OpenAI API Documentation](https://platform.openai.com/docs)
- [Modelos disponibles](https://platform.openai.com/docs/models)
- [GuÃ­a de mejores prÃ¡cticas](https://platform.openai.com/docs/guides/prompt-engineering)

### **Ejemplos de Prompts:**
```
Scoring Crediticio:
"Analiza la capacidad de pago de un cliente con ingresos de ${ingresos}, gastos de ${gastos}, historial crediticio de ${score} y {contexto_adicional}. Proporciona un score de 0-100 y recomendaciÃ³n de monto mÃ¡ximo."

PredicciÃ³n de Mora:
"BasÃ¡ndote en el historial de pagos {historial}, comportamiento de gastos {gastos} y factores externos {contexto}, predice la probabilidad de mora en los prÃ³ximos 3 meses. Escala de 0-100%."
```

---

## âœ… **CHECKLIST DE IMPLEMENTACIÃ“N**

### **ConfiguraciÃ³n Inicial:**
- [ ] Obtener API Key de OpenAI
- [ ] Configurar modelo apropiado
- [ ] Habilitar funcionalidades necesarias
- [ ] Probar configuraciÃ³n
- [ ] Documentar configuraciÃ³n

### **Monitoreo Continuo:**
- [ ] Revisar mÃ©tricas semanalmente
- [ ] Monitorear costos mensualmente
- [ ] Evaluar precisiÃ³n de predicciones
- [ ] Actualizar prompts segÃºn necesidad
- [ ] Mantener documentaciÃ³n actualizada

**MÃ³dulo de IA completamente configurado y listo para producciÃ³n** âœ…
