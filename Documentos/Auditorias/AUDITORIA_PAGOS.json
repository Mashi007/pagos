{
  "fecha_auditoria": "2026-01-10T20:58:18.026334",
  "endpoint": "https://rapicredit.onrender.com/pagos",
  "endpoint_api": "https://rapicredit.onrender.com/api/v1/pagos",
  "verificaciones": {
    "conexion_bd": {
      "estado": "exitoso",
      "mensaje": "Conexión establecida correctamente"
    },
    "estructura_tabla": {
      "estado": "exitoso",
      "columnas": {
        "id": {
          "tipo": "integer",
          "nullable": false,
          "default": "nextval('pagos_id_seq'::regclass)"
        },
        "prestamo_id": {
          "tipo": "integer",
          "nullable": true,
          "default": null
        },
        "numero_cuota": {
          "tipo": "integer",
          "nullable": true,
          "default": null
        },
        "codigo_pago": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "monto_cuota_programado": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "monto_pagado": {
          "tipo": "numeric",
          "nullable": false,
          "default": null
        },
        "monto_capital": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "monto_interes": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "monto_mora": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "descuento": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "monto_total": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "fecha_pago": {
          "tipo": "timestamp without time zone",
          "nullable": false,
          "default": null
        },
        "fecha_vencimiento": {
          "tipo": "date",
          "nullable": true,
          "default": null
        },
        "hora_pago": {
          "tipo": "time without time zone",
          "nullable": true,
          "default": "CURRENT_TIME"
        },
        "dias_mora": {
          "tipo": "integer",
          "nullable": true,
          "default": null
        },
        "tasa_mora": {
          "tipo": "numeric",
          "nullable": true,
          "default": null
        },
        "metodo_pago": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "numero_operacion": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "comprobante": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "banco": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "estado": {
          "tipo": "character varying",
          "nullable": true,
          "default": "'PAGADO'::character varying"
        },
        "tipo_pago": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "observaciones": {
          "tipo": "text",
          "nullable": true,
          "default": null
        },
        "usuario_registro": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "creado_en": {
          "tipo": "timestamp without time zone",
          "nullable": true,
          "default": "now()"
        },
        "cedula": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "fecha_registro": {
          "tipo": "timestamp without time zone",
          "nullable": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "institucion_bancaria": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "referencia_pago": {
          "tipo": "character varying",
          "nullable": false,
          "default": "''::character varying"
        },
        "numero_documento": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "documento_nombre": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "documento_tipo": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "documento_tamaño": {
          "tipo": "integer",
          "nullable": true,
          "default": null
        },
        "documento_ruta": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "conciliado": {
          "tipo": "boolean",
          "nullable": true,
          "default": "false"
        },
        "fecha_conciliacion": {
          "tipo": "timestamp without time zone",
          "nullable": true,
          "default": null
        },
        "activo": {
          "tipo": "boolean",
          "nullable": true,
          "default": "true"
        },
        "notas": {
          "tipo": "text",
          "nullable": true,
          "default": null
        },
        "fecha_actualizacion": {
          "tipo": "timestamp without time zone",
          "nullable": true,
          "default": null
        },
        "verificado_concordancia": {
          "tipo": "character varying",
          "nullable": false,
          "default": "'NO'::character varying"
        },
        "monto": {
          "tipo": "integer",
          "nullable": true,
          "default": null
        },
        "documento": {
          "tipo": "character varying",
          "nullable": true,
          "default": null
        },
        "cliente_id": {
          "tipo": "integer",
          "nullable": true,
          "default": null
        }
      },
      "total_columnas": 43,
      "columnas_criticas_faltantes": [],
      "columnas_opcionales_faltantes": []
    },
    "datos_bd": {
      "estado": "exitoso",
      "total": 19088,
      "por_estado": {
        "PAGADO": 127,
        "PARCIAL": 18961
      },
      "conciliados": 19088,
      "no_conciliados": 0,
      "activos": 19087,
      "inactivos": 1,
      "sin_monto": 0,
      "sin_cedula": 0,
      "sin_numero_documento": 0,
      "con_cliente": 0,
      "sin_cliente": 19088,
      "con_prestamo": 19087,
      "sin_prestamo": 1,
      "muestra": [
        {
          "id": 55915,
          "cedula": "V24661982",
          "monto_pagado": 96.0,
          "fecha_pago": "2024-05-28T00:00:00",
          "estado": "PARCIAL",
          "conciliado": true
        },
        {
          "id": 68033,
          "cedula": "V19231989",
          "monto_pagado": 160.0,
          "fecha_pago": "2024-09-15T00:00:00",
          "estado": "PARCIAL",
          "conciliado": true
        },
        {
          "id": 55446,
          "cedula": "V19226493",
          "monto_pagado": 80.0,
          "fecha_pago": "2024-11-15T00:00:00",
          "estado": "PARCIAL",
          "conciliado": true
        }
      ]
    },
    "endpoint_backend": {
      "estado": "exitoso",
      "pruebas": [
        {
          "test": "query_basica",
          "tiempo_ms": 334.49697494506836,
          "registros": 20,
          "exitoso": true
        },
        {
          "test": "query_con_filtro_estado",
          "tiempo_ms": 249.27067756652832,
          "registros": 20,
          "exitoso": true
        },
        {
          "test": "query_con_relacion_cliente",
          "tiempo_ms": 206.5432071685791,
          "registros": 20,
          "exitoso": true
        }
      ]
    },
    "rendimiento": {
      "estado": "exitoso",
      "pruebas": [
        {
          "operacion": "count_total",
          "tiempo_ms": 168.53594779968262,
          "aceptable": true
        },
        {
          "operacion": "query_paginada_20",
          "tiempo_ms": 167.62161254882812,
          "aceptable": true
        },
        {
          "operacion": "query_con_filtro",
          "tiempo_ms": 167.191743850708,
          "aceptable": true
        },
        {
          "operacion": "query_con_relacion_cliente_10",
          "tiempo_ms": 166.8848991394043,
          "aceptable": true
        }
      ],
      "operaciones_aceptables": 4,
      "total_operaciones": 4
    },
    "indices": {
      "estado": "exitoso",
      "indices": {
        "idx_pagos_activo": "CREATE INDEX idx_pagos_activo ON public.pagos USING btree (activo) WHERE (activo = true)",
        "idx_pagos_cedula_activo_fecha": "CREATE INDEX idx_pagos_cedula_activo_fecha ON public.pagos USING btree (cedula, activo, fecha_pago) WHERE ((cedula IS NOT NULL) AND (activo = true) AND (fecha_pago IS NOT NULL) AND (monto_pagado IS NOT NULL) AND (monto_pagado > (0)::numeric))",
        "idx_pagos_fecha_pago_activo": "CREATE INDEX idx_pagos_fecha_pago_activo ON public.pagos USING btree (fecha_pago, activo, monto_pagado) WHERE ((activo = true) AND (monto_pagado > (0)::numeric))",
        "idx_pagos_fecha_pago_activo_monto": "CREATE INDEX idx_pagos_fecha_pago_activo_monto ON public.pagos USING btree (fecha_pago, activo, monto_pagado) WHERE ((fecha_pago IS NOT NULL) AND (activo = true) AND (monto_pagado IS NOT NULL) AND (monto_pagado > (0)::numeric))",
        "idx_pagos_fecha_pago_simple": "CREATE INDEX idx_pagos_fecha_pago_simple ON public.pagos USING btree (fecha_pago) WHERE ((fecha_pago IS NOT NULL) AND (activo = true))",
        "idx_pagos_monto_pagado": "CREATE INDEX idx_pagos_monto_pagado ON public.pagos USING btree (monto_pagado) WHERE ((monto_pagado IS NOT NULL) AND (monto_pagado > (0)::numeric) AND (activo = true))",
        "idx_pagos_prestamo_fecha": "CREATE INDEX idx_pagos_prestamo_fecha ON public.pagos USING btree (prestamo_id, fecha_pago, activo) WHERE (activo = true)",
        "idx_pagos_prestamo_id_activo_fecha": "CREATE INDEX idx_pagos_prestamo_id_activo_fecha ON public.pagos USING btree (prestamo_id, activo, fecha_pago) WHERE ((prestamo_id IS NOT NULL) AND (activo = true) AND (fecha_pago IS NOT NULL) AND (monto_pagado IS NOT NULL) AND (monto_pagado > (0)::numeric))",
        "idx_pagos_prestamo_id_fk": "CREATE INDEX idx_pagos_prestamo_id_fk ON public.pagos USING btree (prestamo_id) WHERE (prestamo_id IS NOT NULL)",
        "ix_pagos_cedula": "CREATE INDEX ix_pagos_cedula ON public.pagos USING btree (cedula)",
        "ix_pagos_cliente_id": "CREATE INDEX ix_pagos_cliente_id ON public.pagos USING btree (cliente_id)",
        "ix_pagos_codigo_pago": "CREATE UNIQUE INDEX ix_pagos_codigo_pago ON public.pagos USING btree (codigo_pago)",
        "ix_pagos_estado": "CREATE INDEX ix_pagos_estado ON public.pagos USING btree (estado)",
        "ix_pagos_fecha_actualizacion": "CREATE INDEX ix_pagos_fecha_actualizacion ON public.pagos USING btree (fecha_actualizacion)",
        "ix_pagos_fecha_registro": "CREATE INDEX ix_pagos_fecha_registro ON public.pagos USING btree (fecha_registro)",
        "ix_pagos_id": "CREATE INDEX ix_pagos_id ON public.pagos USING btree (id)",
        "ix_pagos_numero_doc": "CREATE INDEX ix_pagos_numero_doc ON public.pagos USING btree (numero_documento)",
        "ix_pagos_numero_documento": "CREATE INDEX ix_pagos_numero_documento ON public.pagos USING btree (numero_documento)",
        "ix_pagos_prestamo_id": "CREATE INDEX ix_pagos_prestamo_id ON public.pagos USING btree (prestamo_id)",
        "pagos_pkey": "CREATE UNIQUE INDEX pagos_pkey ON public.pagos USING btree (id)"
      },
      "total": 20,
      "faltantes": []
    },
    "validaciones": {
      "estado": "exitoso",
      "problemas": []
    },
    "conectividad_produccion": {
      "endpoint_pagos": {
        "url": "https://rapicredit.onrender.com/pagos",
        "status_code": 200,
        "tiempo_respuesta_ms": 811.6,
        "accesible": true,
        "tipo": "frontend"
      },
      "endpoint_api_pagos": {
        "url": "https://rapicredit.onrender.com/api/v1/pagos",
        "status_code": 404,
        "tiempo_respuesta_ms": 250.81,
        "accesible": false,
        "tipo": "api",
        "requiere_auth": false
      },
      "endpoint_health": {
        "url": "https://rapicredit.onrender.com/api/v1/pagos/health",
        "status_code": 403,
        "tiempo_respuesta_ms": 358.4,
        "accesible": false,
        "tipo": "health"
      },
      "estado": "parcial",
      "endpoints_funcionales": 1,
      "total_endpoints": 3
    }
  },
  "resumen": {
    "exitosas": 7,
    "parciales": 1,
    "errores": 0,
    "advertencias": 0,
    "total": 8
  },
  "advertencias": [],
  "errores": []
}